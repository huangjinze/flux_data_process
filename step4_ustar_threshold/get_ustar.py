import numpy as np
def Average_Check(data, value):
    NightData = data[(data['daytime'] == 0)]

    i = 0
    FC1 = []
    FC1_x = []
    FC2 = []
    FC2_x = []

    while(i<np.ceil(np.nanmax(NightData['ustar']))):
        condition1 = (NightData['ustar'] >= i) & (NightData['ustar'] <= i+0.01)
        index1 = NightData[condition1]
        if len(index1) > 5:
            FC1.append(np.nanmean(index1[value]))
            FC1_x.append(i)

        condition2 = (NightData['ustar'] >= i)
        index2 = NightData[condition2]

        if len(index2) > 5:
            FC2.append(np.nanmean(index2[value]))
            FC2_x.append(i)

        i=i+0.01

    # print(FC1)
    # print(FC1_x)
    # print(FC2)
    # print(FC2_x)

if __name__ == '__main__':
    FC1 = \
        [1.1400966905618539, 0.05990244631136149, 0.085276744403105093, 0.082400517228013032, -0.036418180824884752,
         0.00028975642736763684, -0.043949271202364908, 0.078725355384319198, 0.0052337330950347431,
         -0.046803699094067674, 0.10378009675443275, 0.16107039140219426, 0.2888511385183854, 0.31156005404789427,
         0.17381455871156595, 0.39832778896051502, 0.54443281312595748, 0.68254311533671674, 0.74315512125135585,
         0.73314589283518605, 0.84196086791199498, 0.82308579865231479, 0.99994534618798026, 0.87325985648633253,
         0.68375374234629882, 0.84172016497018409, 0.84631373824966227, 0.72466708799621127, 1.051217082408755,
         1.1710034277416721, 0.88408835257015284, 0.90121418832798295, 0.91029794015314414, 1.0699933173799971,
         0.85817253687442652, 0.78990207883433361, 0.93896388374100259, 0.92307853240863191, 0.96352247998589546,
         0.85703169615211738, 1.2037156138817606, 1.0476842678942673, 1.347172128775189, 1.2118486580367378,
         1.1830421943540534, 0.98421594036206805, 1.0016376655341963, 0.9817214204582676, 0.92102166883713732,
         1.1524443923789538, 0.61668153947718052, 0.98247932714123454, 1.2109601207190235, 1.2608969740544702,
         1.046986917873296, 0.86509920873436996, 1.2058540149426191, 0.98088085841757, 0.5675755766865116,
         0.94065844252445796, 1.2574932160084134, 1.1642040333509589, 1.070136617840308, 0.99391140932901778,
         1.0675949739113233, 0.86998899117110906, 1.8981895010999374, 1.1852796687091167, 1.4242412721596784,
         0.90336849754079851, 1.0075932443565472, 1.3399783775256719, 1.5205038978763623, 1.1082766749699766,
         0.66363781998233773, 0.34938270064250121, 0.56710800698664199, 0.51608988790975019, 0.85822315950691919,
         0.7300640405654848]
    FC1_x= \
        [0.01, 0.02, 0.03, 0.04, 0.05, 0.060000000000000005, 0.07, 0.08, 0.09, 0.09999999999999999, 0.10999999999999999,
         0.11999999999999998, 0.12999999999999998, 0.13999999999999999, 0.15, 0.16, 0.17, 0.18000000000000002,
         0.19000000000000003, 0.20000000000000004, 0.21000000000000005, 0.22000000000000006, 0.23000000000000007,
         0.24000000000000007, 0.25000000000000006, 0.26000000000000006, 0.2700000000000001, 0.2800000000000001,
         0.2900000000000001, 0.3000000000000001, 0.3100000000000001, 0.3200000000000001, 0.3300000000000001,
         0.34000000000000014, 0.35000000000000014, 0.36000000000000015, 0.37000000000000016, 0.38000000000000017,
         0.3900000000000002, 0.4000000000000002, 0.4100000000000002, 0.4200000000000002, 0.4300000000000002,
         0.4400000000000002, 0.45000000000000023, 0.46000000000000024, 0.47000000000000025, 0.48000000000000026,
         0.49000000000000027, 0.5000000000000002, 0.5100000000000002, 0.5200000000000002, 0.5300000000000002,
         0.5400000000000003, 0.5500000000000003, 0.5600000000000003, 0.5700000000000003, 0.5800000000000003,
         0.5900000000000003, 0.6000000000000003, 0.6100000000000003, 0.6200000000000003, 0.6300000000000003,
         0.6400000000000003, 0.6500000000000004, 0.6600000000000004, 0.6700000000000004, 0.6800000000000004,
         0.6900000000000004, 0.7000000000000004, 0.7100000000000004, 0.7200000000000004, 0.7300000000000004,
         0.7400000000000004, 0.7500000000000004, 0.7600000000000005, 0.7700000000000005, 0.7800000000000005,
         0.8000000000000005, 0.9800000000000006]

    FC2 = \
        [0.53440475226400852, 0.53440475226400852, 0.53374303492428032, 0.53570678187855147, 0.53969484910656806,
         0.54951740038796903, 0.56765241772931474, 0.59170099705555823, 0.61908891342938599, 0.65065709744632583,
         0.68628276199850413, 0.73196289062989917, 0.77132886368831199, 0.80699034149383275, 0.8352226142931688,
         0.86470466299680604, 0.89996346286354056, 0.9231691637736692, 0.94077420126764999, 0.95025234599470298,
         0.95642958386310839, 0.96402870974760013, 0.96916983248492694, 0.97380543218630466, 0.97288484924277141,
         0.97592312288584659, 0.98711770649739994, 0.99241443347787939, 0.99747462733637782, 1.0088617124591721,
         1.0067541671293379, 0.99842314727775627, 1.0034529468005349, 1.0069412953415107, 1.0110140618463759,
         1.0085880412805506, 1.0156410170852397, 1.0257992693065305, 1.0297009637467787, 1.0352694799519047,
         1.039004141604271, 1.0497018481342197, 1.0397622374373443, 1.0393607098662403, 1.0240918472460265,
         1.0104841832411484, 0.99944273544229156, 1.0002310078364358, 1.0001487922267038, 1.0012547913067065,
         1.0074458768778725, 0.99637977244007958, 1.0199129167953487, 1.0223862924777045, 1.0079401442129796,
         0.98695409610761142, 0.98183875920474761, 0.99029231285949915, 0.97303131995526415, 0.97246728126336202,
         1.01145029001912, 1.016960032866582, 0.99599047331062751, 0.98641734387743785, 0.97954303399192355,
         0.9783570728529889, 0.96999101962876999, 0.98118815795028413, 0.8960656704005272, 0.87085894577730161,
         0.81496174109221298, 0.8061210654473544, 0.77806797724480858, 0.719126326865697, 0.59633460227535329,
         0.53637742259039722, 0.52781181891978601, 0.54679364001311404, 0.54540856953764627, 0.54794228276474843,
         0.55085851990375279, 0.51967659994401139, 0.46358755207751551, 0.4552700054281455, 0.36325012849967148,
         0.31627460979506761, 0.3047340308073675, 0.32595230599459618, 0.26345732225958968, 0.2284830564807783,
         0.20091098646218625, 0.1136593039873558, 0.11982719979734398, 0.1031746684152765, -0.07226672352620625,
         -0.10582286273129968, -0.14668311231992928, -0.23807253382470889, -0.33397406248238376, -0.63798494906748915,
         -0.68696534218422167, -0.76809246814255716, -1.0469987796879319, -1.2141858243078105, -1.2141858243078105,
         -1.2141858243078105, -1.2141858243078105, -1.2141858243078105, -1.5906844643615654, -1.5906844643615654,
         -1.5906844643615654, -2.1261162441099661, -2.1261162441099661, -2.4337611885555761, -2.4337611885555761,
         -2.4337611885555761, -2.4337611885555761, -2.4337611885555761, -2.4337611885555761, -2.4337611885555761,
         -2.775832731992947, -2.775832731992947, -2.775832731992947, -2.775832731992947, -2.775832731992947,
         -2.775832731992947, -2.775832731992947, -2.775832731992947, -2.775832731992947, -2.775832731992947,
         -2.775832731992947, -2.7752503545451019, -2.7752503545451019, -2.7752503545451019, -2.7752503545451019]
    FC2_x = \
 \
        [0, 0.01, 0.02, 0.03, 0.04, 0.05, 0.060000000000000005, 0.07, 0.08, 0.09, 0.09999999999999999,
         0.10999999999999999, 0.11999999999999998, 0.12999999999999998, 0.13999999999999999, 0.15, 0.16, 0.17,
         0.18000000000000002, 0.19000000000000003, 0.20000000000000004, 0.21000000000000005, 0.22000000000000006,
         0.23000000000000007, 0.24000000000000007, 0.25000000000000006, 0.26000000000000006, 0.2700000000000001,
         0.2800000000000001, 0.2900000000000001, 0.3000000000000001, 0.3100000000000001, 0.3200000000000001,
         0.3300000000000001, 0.34000000000000014, 0.35000000000000014, 0.36000000000000015, 0.37000000000000016,
         0.38000000000000017, 0.3900000000000002, 0.4000000000000002, 0.4100000000000002, 0.4200000000000002,
         0.4300000000000002, 0.4400000000000002, 0.45000000000000023, 0.46000000000000024, 0.47000000000000025,
         0.48000000000000026, 0.49000000000000027, 0.5000000000000002, 0.5100000000000002, 0.5200000000000002,
         0.5300000000000002, 0.5400000000000003, 0.5500000000000003, 0.5600000000000003, 0.5700000000000003,
         0.5800000000000003, 0.5900000000000003, 0.6000000000000003, 0.6100000000000003, 0.6200000000000003,
         0.6300000000000003, 0.6400000000000003, 0.6500000000000004, 0.6600000000000004, 0.6700000000000004,
         0.6800000000000004, 0.6900000000000004, 0.7000000000000004, 0.7100000000000004, 0.7200000000000004,
         0.7300000000000004, 0.7400000000000004, 0.7500000000000004, 0.7600000000000005, 0.7700000000000005,
         0.7800000000000005, 0.7900000000000005, 0.8000000000000005, 0.8100000000000005, 0.8200000000000005,
         0.8300000000000005, 0.8400000000000005, 0.8500000000000005, 0.8600000000000005, 0.8700000000000006,
         0.8800000000000006, 0.8900000000000006, 0.9000000000000006, 0.9100000000000006, 0.9200000000000006,
         0.9300000000000006, 0.9400000000000006, 0.9500000000000006, 0.9600000000000006, 0.9700000000000006,
         0.9800000000000006, 0.9900000000000007, 1.0000000000000007, 1.0100000000000007, 1.0200000000000007,
         1.0300000000000007, 1.0400000000000007, 1.0500000000000007, 1.0600000000000007, 1.0700000000000007,
         1.0800000000000007, 1.0900000000000007, 1.1000000000000008, 1.1100000000000008, 1.1200000000000008,
         1.1300000000000008, 1.1400000000000008, 1.1500000000000008, 1.1600000000000008, 1.1700000000000008,
         1.1800000000000008, 1.1900000000000008, 1.2000000000000008, 1.2100000000000009, 1.2200000000000009,
         1.2300000000000009, 1.2400000000000009, 1.2500000000000009, 1.260000000000001, 1.270000000000001,
         1.280000000000001, 1.290000000000001, 1.300000000000001, 1.310000000000001, 1.320000000000001,
         1.330000000000001, 1.340000000000001]
    import matplotlib.pyplot as plt
    print(len(FC1))
    print(len(FC2))
    ax = plt.figure()

    plt.scatter(FC1_x, FC1, label='FC1')
    plt.scatter(FC2_x, FC2, label='FC2')
    plt.legend()
    plt.show()

    # import pandas as pd
    # import numpy as np
    # a = pd.DataFrame([1, np.nan, 3])
    # print(np.nanmax(a))

    # import numpy as np
    # import matplotlib.pyplot as plt
    # x = np.linspace(0, 10, 1000)
    # y = np.sin(x)
    # z = np.cos(x**2)
    # print(x)
    # print(y)
    # print(z)
    # plt.figure(figsize=(8, 4))
    #
    # plt.plot(x,y,label='$sin(x)$', color='red', linewidth=2)
    # plt.plot(x,z,'b--',label='$cos(x^2)$')
    # plt.show()